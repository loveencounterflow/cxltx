
% ##########################################################################################################
\documentclass[a4paper,12pt]{article}
\usepackage{lipsum}
\usepackage[columnwise]{lineno}
\usepackage{cxltx}
\usepackage[
left=40mm,
right=30mm,
top=15mm]{geometry}
% \usepackage[headheight=10mm]{geometry}
\usepackage{leading}
\usepackage{parskip}
% \usepackage{etoolbox}
% \usepackage{/Volumes/Storage/cnd/node_modules/jizura-xelatex/tex-inputs/background-grid}
\usepackage{xeCJK}
\usepackage{zhspacing}
% ..........................................................................................................
% a trick from http://tex.stackexchange.com/questions/16084/high-and-low-cjk-codepoints-in-a-single-xelatex-document
% to automatically select font based on glyph codepoint; note that in order for `zhspacing` to load at all,
% you must install both the SimSun and the SimHei font, even if those fonts are not listed in your font
% choices.
%
%   http://www.fontpalace.com/font-download/SimHei/
%   http://www.fontpalace.com/font-download/SimSun/
\zhspacing
\newfontfamily\zhfont{Sun-ExtA}
\newfontfamily\zhcjkextbfont{sunflower-u-cjk-xb}
% \setCJKmainfont{Sun-ExtA}
% \newCJKfontfamily\cjkxbIdeographFont[Scale=1.05,AutoFakeBold=1]{sunflower-u-cjk-xb}
% ..........................................................................................................

\usepackage{fancyhdr}

\setmainfont[
Mapping=tex-text,
BoldFont={Liberation Sans Bold},
BoldFeatures={Scale=0.8},
ItalicFont={EB Garamond 12 Italic},
% Ligatures={Historic,Rare,TeX},
Ligatures={TeX},
% Style={Swash,Historic},
CharacterVariant={11,5:0},% 11: make medieval digit `1` look different from small caps `i`
]{EB Garamond 12 Regular}



\newenvironment{jzrplain}{%
% ..........................................................................................................
% begin
  % thx to http://www.tug.org/TUGboat/tb28-1/tb88bazargan.pdf for the next two settings:
  \lineskiplimit=-10pt%
  \lineskip=0pt%
  \topskip=0pt%
  \setlength{\parskip}{4mm}%
  \setlength{\parindent}{0mm}%
  % \fontsize{\nominalfontsize}{\gridstrutlength}%
  \leading{5.5mm}
  % \makeatletter
  % \preto{\@verbatim}{\topsep=0pt \partopsep=0pt }
  % \makeatother
  }%
% end
  {\par}


\renewcommand{\CXLTXmainRoute}{cxltx/lib/main}
\renewcommand{\CXLTXtempOutRoute}{/tmp/CXLTXtempout.tex}
\renewcommand{\CXLTXtempErrRoute}{/tmp/CXLTXtemperr.tex}
\renewcommand{\CXLTXhost}{localhost:8910}
% \newcommand{\nodeRun}[2]{\nodeRunScript{\CXLTXmainRoute}{#1}{#2}}

% \makeatletter
% \def\verbatim{\tiny\@verbatim \frenchspacing\@vobeyspaces \@xverbatim}
% \makeatother

% ##########################################################################################################
\begin{document}
\begin{jzrplain}


\input{intro.tex}

\clearpage
\tableofcontents

\clearpage
\input{README.tex}

\clearpage
\input{examples.tex}

% % ----------------------------------------------------------------------------------------------------------
% \subsection{(testing)}

% \verb#\currfiledir#:  \currfiledir

% \verb#\currfilebase#: \currfilebase

% \verb#\currfileext#:  \currfileext

% \verb#\currfilename#: \currfilename

% \verb#\currfilepath#: \currfilepath

% \verb#\currfileabsdir#:   \currfileabsdir

% \verb#\currfileabspath#:  \currfileabspath

% % \begin{URL}
% \curlBETA{helo}{foo/bar}
% % \end{URL}

% \urlescapeALPHA{route/to/file}%
% \let\two=\urlescapecurrent%
% \two


% ##########################################################################################################
\end{jzrplain}
\end{document}
